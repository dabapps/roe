input:not([type='checkbox']):not([type='radio']):not([type='submit']):not([type='button']),
select,
textarea {
  &.error { // lesshint qualifyingElement: false
    color: initial; // lesshint variableValue: false
    border-color: @error;
  }
}

.form-group {
  display: table;
  margin-top: @spacing-vertical-base;
  margin-bottom: @spacing-vertical-base;

  & > label,
  & > input:not([type='checkbox']):not([type='radio']):not([type='submit']):not([type='button']),
  & > select,
  & > button,
  & > textarea {
    display: table-cell;
  }

  & > label,
  & > input,
  & > select,
  & > button,
  & > textarea {
    & + label,
    & + input,
    & + select,
    & + button,
    & + textarea {
      margin-left: @spacing-horizontal-base;
    }
  }

  & > input,
  & > select,
  & > button,
  & > textarea {
    width: 100%;
  }

  & > label {
    width: auto;
    margin-top: 0;
    text-align: right;
    vertical-align: middle;
  }

  & > textarea {
    resize: vertical;
  }

  &.block {
    width: 100%;

    & > label,
    & > input,
    & > select,
    & > button,
    & > textarea {
      margin-left: 0;
    }

    & > label,
    & > input:not([type='checkbox']):not([type='radio']):not([type='submit']):not([type='button']),
    & > select,
    & > button,
    & > textarea {
      text-align: left;
      display: block;
      width: 100%;
    }
  }
}

.input-group {
  display: table;
  width: 100%;
  margin-top: @spacing-vertical-base;
  margin-bottom: @spacing-vertical-base;

  & > label,
  & > input:not([type='checkbox']):not([type='radio']):not([type='submit']):not([type='button']),
  & > select,
  & > button,
  & > .input-group-addon {
    width: 100%;
    display: table-cell;
  }

  & > label,
  & > input:not([type='checkbox']):not([type='radio']):not([type='submit']):not([type='button']),
  & > select,
  & > button {
    &:first-child {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

    &:last-child {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }

    &:not(:first-child):not(:last-child) {
      border-radius: 0;
    }
  }

  & > .input-group-addon {
    width: auto;
    padding: @padding-base / 2 @padding-base;
    border: @border-base;
    border-radius: @border-radius-base;
    background-color: @grey-lightest;

    &:first-child {
      border-right: @border-none;
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

    &:last-child {
      border-left: @border-none;
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
  }
}
